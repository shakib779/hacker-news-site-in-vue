{"remainingRequest":"/home/ac/Documents/Project/appscode-project/node_modules/thread-loader/dist/cjs.js!/home/ac/Documents/Project/appscode-project/node_modules/babel-loader/lib/index.js!/home/ac/Documents/Project/appscode-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ac/Documents/Project/appscode-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ac/Documents/Project/appscode-project/src/components/Comments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ac/Documents/Project/appscode-project/src/components/Comments.vue","mtime":1584422902042},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFJlcGxpZXMgZnJvbSAiLi9SZXBsaWVzIjsKCnZhciB1cmwgPSByZXF1aXJlKCcuLy4uL3N0YXRpYy91cmwnKS51cmw7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNvbW1lbnRzIiwKICBjb21wb25lbnRzOiB7CiAgICBSZXBsaWVzOiBSZXBsaWVzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zdDoge30sCiAgICAgIGNvbW1lbnRzQXJyYXk6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiBQYXJhbXM6IHBvc3QgaWQgZnJvbSB1cmwKICAgICAqIEZldGNoIHRoZSBwb3N0IGluZm8gYnkgdGhlIGlkCiAgICAgKi8KICAgIGdldFBvc3RJbmZvOiBmdW5jdGlvbiBnZXRQb3N0SW5mbyhpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQodXJsLmdldEl0ZW1CeUlkICsgaWQudG9TdHJpbmcoKSArICIuanNvbiIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBwcm9taXNlcyA9IFtdOwogICAgICAgIF90aGlzLnBvc3QgPSByZXMuZGF0YTsKCiAgICAgICAgaWYgKF90aGlzLnBvc3Qua2lkcykgewogICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX3RoaXMucG9zdC5raWRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkgewogICAgICAgICAgICAgIHZhciBpdGVtSWQgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKF90aGlzLiRodHRwLmdldCh1cmwuZ2V0SXRlbUJ5SWQgKyBpdGVtSWQudG9TdHJpbmcoKSArICIuanNvbiIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIF90aGlzLmNvbW1lbnRzQXJyYXkucHVzaChpdGVtLmRhdGEpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKCiAgLyoqCiAgICogSW5pdGlhbCBmdW5jdGlvbiBvZiB0aGUgY29tcG9uZW50IAogICAqLwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLnBvc3RJZCkgewogICAgICB0aGlzLmdldFBvc3RJbmZvKHRoaXMuJHJvdXRlLnBhcmFtcy5wb3N0SWQpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Comments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,OAAA,MAAA,WAAA;;AACA,IAAA,GAAA,GAAA,OAAA,CAAA,iBAAA,CAAA,CAAA,GAAA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GATA;AAWA,EAAA,OAAA,EAAA;AAEA;;;;AAIA,IAAA,WANA,uBAMA,EANA,EAMA;AAAA;;AAEA,WAAA,KAAA,CACA,GADA,CAEA,GAAA,CAAA,WAAA,GACA,EAAA,CAAA,QAAA,EADA,GAEA,OAJA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,YAAA,QAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA;;AAAA;AACA,iCAAA,KAAA,CAAA,IAAA,CAAA,IAAA,8HAAA;AAAA,kBAAA,MAAA;AACA,cAAA,QAAA,CAAA,IAAA,CACA,KAAA,CAAA,KAAA,CAAA,GAAA,CACA,GAAA,CAAA,WAAA,GACA,MAAA,CAAA,QAAA,EADA,GAEA,OAHA,CADA;AAOA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,WAFA;AAGA,SALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,SARA;AASA,OA9BA;AA+BA;AAvCA,GAXA;;AAqDA;;;AAGA,EAAA,OAxDA,qBAwDA;AACA,QAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA,WAAA,WAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA;AACA;AA5DA,CAAA","sourcesContent":["<template>\n  <div>\n    <!-- Post information -->\n    <h1>\n      {{post.title}}\n      <span v-html=\"post.title\"></span>\n      <small>({{post.url}})</small>\n    </h1>\n    <h6>{{post.descendants}} points | by {{post.by}} {{post.time | getTimeDiffrence }} ago</h6>\n\n    <!-- Comment section  -->\n    <h4 v-if=\"post.kids\">{{post.kids.length}} comments</h4>\n    <br />\n    <div v-for=\"(item, id) in commentsArray\" :key=\"id\">\n      <div v-if=\"!item.deleted\">\n        <hr v-if=\"id != 0\" style=\"margin-left: 20px\" />\n        <!-- Reply section -->\n        <Replies v-bind:reply=\"item\" />\n      </div>\n    </div>\n    <br />\n  </div>\n</template>\n\n<script>\nimport Replies from \"./Replies\";\nconst url = require('./../static/url').url;\n\nexport default {\n  name: \"Comments\",\n  components: { Replies },\n\n  data() {\n    return {\n      post: {},\n      commentsArray: []\n    };\n  },\n\n  methods: {\n    \n    /**\n     * Params: post id from url\n     * Fetch the post info by the id\n     */\n    getPostInfo(id) {\n      \n      this.$http\n        .get(\n          url.getItemById +\n            id.toString() +\n            \".json\"\n        )\n        .then(res => {\n          const promises = [];\n          this.post = res.data;\n          if (this.post.kids) {\n            for (const itemId of this.post.kids) {\n              promises.push(\n                this.$http.get(\n                  url.getItemById +\n                    itemId.toString() +\n                    \".json\"\n                )\n              );\n            }\n          }\n\n          Promise.all(promises)\n            .then(res => {\n              res.forEach(item => {\n                this.commentsArray.push(item.data);\n              });\n            })\n            .catch(err => {\n              console.log(err);\n            });\n        });\n    }\n  },\n\n  /**\n   * Initial function of the component \n   */\n  created() {\n    if (this.$route.params.postId) {\n      this.getPostInfo(this.$route.params.postId);\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"],"sourceRoot":"src/components"}]}