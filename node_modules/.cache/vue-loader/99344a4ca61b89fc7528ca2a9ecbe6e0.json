{"remainingRequest":"/home/ac/Documents/Project/appscode-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ac/Documents/Project/appscode-project/src/components/Comments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ac/Documents/Project/appscode-project/src/components/Comments.vue","mtime":1584419141804},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ac/Documents/Project/appscode-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZXBsaWVzIGZyb20gIi4vUmVwbGllcyI7CmNvbnN0IHVybCA9IHJlcXVpcmUoJy4vLi4vc3RhdGljL3VybCcpLnVybDsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29tbWVudHMiLAogIGNvbXBvbmVudHM6IHsgUmVwbGllcyB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zdDoge30sCiAgICAgIGNvbW1lbnRzQXJyYXk6IFtdCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIAogICAgLyoqCiAgICAgKiBQYXJhbXM6IHBvc3QgaWQgZnJvbSB1cmwKICAgICAqIEZldGNoIHRoZSBwb3N0IGluZm8gYnkgdGhlIGlkCiAgICAgKi8KICAgIGdldFBvc3RJbmZvKGlkKSB7CiAgICAgIAogICAgICB0aGlzLiRodHRwCiAgICAgICAgLmdldCgKICAgICAgICAgIHVybC5nZXRJdGVtQnlJZCArCiAgICAgICAgICAgIGlkLnRvU3RyaW5nKCkgKwogICAgICAgICAgICAiLmpzb24iCiAgICAgICAgKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdOwogICAgICAgICAgdGhpcy5wb3N0ID0gcmVzLmRhdGE7CiAgICAgICAgICBpZiAodGhpcy5wb3N0LmtpZHMpIHsKICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtSWQgb2YgdGhpcy5wb3N0LmtpZHMpIHsKICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKAogICAgICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoCiAgICAgICAgICAgICAgICAgIHVybC5nZXRJdGVtQnlJZCArCiAgICAgICAgICAgICAgICAgICAgaXRlbUlkLnRvU3RyaW5nKCkgKwogICAgICAgICAgICAgICAgICAgICIuanNvbiIKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgcmVzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRzQXJyYXkucHVzaChpdGVtLmRhdGEpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICB9LAoKICAvKioKICAgKiBJbml0aWFsIGZ1bmN0aW9uIG9mIHRoZSBjb21wb25lbnQgCiAgICovCiAgY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMucG9zdElkKSB7CiAgICAgIHRoaXMuZ2V0UG9zdEluZm8odGhpcy4kcm91dGUucGFyYW1zLnBvc3RJZCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Comments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comments.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <!-- Post information -->\n    <h1>\n      {{post.title}}\n      <small>({{post.url}})</small>\n    </h1>\n    <h6>{{post.descendants}} points | by {{post.by}} {{post.time | getTimeDiffrence }} ago</h6>\n\n    <!-- Comment section  -->\n    <h4 v-if=\"post.kids\">{{post.kids.length}} comments</h4>\n    <br />\n    <div v-for=\"(item, id) in commentsArray\" :key=\"id\">\n      <div v-if=\"!item.deleted\">\n        <hr v-if=\"id != 0\" style=\"margin-left: 20px\" />\n        <!-- Reply section -->\n        <Replies v-bind:reply=\"item\" />\n      </div>\n    </div>\n    <br />\n  </div>\n</template>\n\n<script>\nimport Replies from \"./Replies\";\nconst url = require('./../static/url').url;\n\nexport default {\n  name: \"Comments\",\n  components: { Replies },\n\n  data() {\n    return {\n      post: {},\n      commentsArray: []\n    };\n  },\n\n  methods: {\n    \n    /**\n     * Params: post id from url\n     * Fetch the post info by the id\n     */\n    getPostInfo(id) {\n      \n      this.$http\n        .get(\n          url.getItemById +\n            id.toString() +\n            \".json\"\n        )\n        .then(res => {\n          const promises = [];\n          this.post = res.data;\n          if (this.post.kids) {\n            for (const itemId of this.post.kids) {\n              promises.push(\n                this.$http.get(\n                  url.getItemById +\n                    itemId.toString() +\n                    \".json\"\n                )\n              );\n            }\n          }\n\n          Promise.all(promises)\n            .then(res => {\n              res.forEach(item => {\n                this.commentsArray.push(item.data);\n              });\n            })\n            .catch(err => {\n              console.log(err);\n            });\n        });\n    }\n  },\n\n  /**\n   * Initial function of the component \n   */\n  created() {\n    if (this.$route.params.postId) {\n      this.getPostInfo(this.$route.params.postId);\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"]}]}