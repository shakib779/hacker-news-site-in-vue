(function(t){function e(e){for(var r,i,a=e[0],c=e[1],u=e[2],d=0,f=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},s={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("d3b7"),n("25f0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("router-view")],1)},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",[n("button",{on:{click:function(e){return t.fetchTopStories()}}},[t._v("Top")]),n("button",{on:{click:function(e){return t.fetchNewStories()}}},[t._v("New")])])])},a=[],c=(n("b0c0"),n("8fd4").url),u={name:"Navbar",data:function(){return{}},methods:{fetchTopStories:function(){this.$store.commit("resetStartIndex"),this.$store.commit("resetCurrentPageForPostList"),"Hello"!==this.$router.currentRoute.name&&this.$router.push("/"),this.fetchPostList(c.getTopStoryListUrl)},fetchNewStories:function(){this.$store.commit("resetStartIndex"),this.$store.commit("resetCurrentPageForPostList"),"Hello"!==this.$router.currentRoute.name&&this.$router.push("/"),this.fetchPostList(c.getNewStoryListUrl)},fetchPostList:function(t){this.$store.dispatch("getPostList",{startIndex:this.startIndex,url:t})}},created:function(){"Hello"===this.$router.currentRoute.name&&this.fetchTopStories()}},l=u,d=n("2877"),f=Object(d["a"])(l,i,a,!1,null,"b75c836c",null),p=f.exports,h={name:"App",components:{Navbar:p},data:function(){return{}}},m=h,g=Object(d["a"])(m,s,o,!1,null,null,null),v=g.exports,y=n("2f62"),P=n("bc3a"),I=n.n(P),_=n("a7fe"),x=n.n(_);r["a"].use(y["a"]),r["a"].use(x.a,I.a);var b=n("8fd4").url,L=new y["a"].Store({state:{startIndex:0,currentPage:1,posts:[],itemIds:[],postById:{}},getters:{startIndex:function(t){return t.startIndex},currentPage:function(t){return t.currentPage},posts:function(t){return t.posts},itemIds:function(t){return t.itemIds},itemIdLength:function(t){return Math.ceil(t.itemIds.length/5)}},mutations:{updateStartIndex:function(t,e){t.startIndex+=e,t.startIndex<0?t.startIndex=0:t.startIndex+5>t.itemIdLength&&(t.startIndex=t.itemIdLength-5)},updateCurrentPage:function(t,e){t.currentPage+=e,t.currentPage<1?t.currentPage=1:t.currentPage>Math.ceil(t.itemIdLength/5)&&(t.currentPage=Math.ceil(t.itemIdLength/5))},resetStartIndex:function(t){t.startIndex=0},resetCurrentPageForPostList:function(t){t.currentPage=1},getPostList:function(t,e){t.posts.push(e)},setPostListEmpty:function(t){t.posts=[]},setItemIds:function(t,e){t.itemIds=e}},actions:{getPostList:function(t,e){r["a"].axios.get(e.url).then((function(e){t.commit("setItemIds",e.data),t.commit("setPostListEmpty"),t.dispatch("getPostListRange")})).catch((function(t){console.log(t)}))},getPostListRange:function(t){for(var e=t.state.startIndex;e<t.state.startIndex+5;e++)r["a"].axios.get(b.getItemById+t.state.itemIds[e].toString()+".json").then((function(e){t.commit("getPostList",e.data)}))}}}),S=n("8c4f"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.posts,(function(e,r){return n("div",{key:r},[n("hr"),n("h5",[n("span",{staticStyle:{color:"#FF0000"}},[t._v(t._s(e.descendants)+" ")]),n("span",{domProps:{innerHTML:t._s(e.title)}}),n("small",[t._v("("+t._s(e.url)+")")])]),n("h5",[t._v(" by "+t._s(e.by)+" "+t._s(t._f("getTimeDiffrence")(e.time))+" ago | "),n("a",{attrs:{href:"#"},on:{click:function(n){t.gotoComments(e.id),n.preventDefault()}}},[t._v(t._s(e.kids?e.kids.length:0)+" comments")])])])})),n("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.currentPage)+"/"+t._s(t.itemIdLength))]),0!==t.startIndex?n("div",{staticStyle:{"text-align":"center"}},[n("a",{attrs:{href:"#"},on:{click:function(e){t.gotoPreviousPage(),e.preventDefault()}}},[t._v("Previous")])]):t._e(),n("div",{staticStyle:{"text-align":"center"}},[n("a",{attrs:{href:"#"},on:{click:function(e){t.gotoNextPage(),e.preventDefault()}}},[t._v("Next")])])],2)},$=[],k=n("5530"),j={name:"PostList",data:function(){return{}},methods:{fetchPostListFromNextPage:function(){this.$store.commit("setPostListEmpty"),this.$store.dispatch("getPostListRange",{startIndex:this.startIndex,lastIndex:this.startIndex+5})},fetchPostListFromPreviousPage:function(){this.$store.commit("setPostListEmpty"),this.$store.dispatch("getPostListRange",{startIndex:this.startIndex,lastIndex:this.startIndex+5})},gotoComments:function(t){this.$router.push("comments/"+t.toString())},gotoPreviousPage:function(){this.$store.commit("updateCurrentPage",-1),this.$store.commit("updateStartIndex",-5),this.fetchPostListFromPreviousPage()},gotoNextPage:function(){this.$store.commit("updateStartIndex",5),this.$store.commit("updateCurrentPage",1),this.fetchPostListFromNextPage()}},computed:Object(k["a"])({},Object(y["b"])(["posts","itemIds","itemIdLength","startIndex","currentPage"]))},O=j,T=Object(d["a"])(O,w,$,!1,null,"72c14c75",null),M=T.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v(" "+t._s(t.post.title)+" "),n("span",{domProps:{innerHTML:t._s(t.post.title)}}),n("small",[t._v("("+t._s(t.post.url)+")")])]),n("h6",[t._v(t._s(t.post.descendants)+" points | by "+t._s(t.post.by)+" "+t._s(t._f("getTimeDiffrence")(t.post.time))+" ago")]),t.post.kids?n("h4",[t._v(t._s(t.post.kids.length)+" comments")]):t._e(),n("br"),t._l(t.commentsArray,(function(e,r){return n("div",{key:r},[e.deleted?t._e():n("div",[0!=r?n("hr",{staticStyle:{"margin-left":"20px"}}):t._e(),n("Replies",{attrs:{reply:e}})],1)])})),n("br")],2)},R=[],E=(n("a4d3"),n("e01a"),n("d28b"),n("4160"),n("3ca3"),n("159b"),n("ddb0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.indent},[t._v(" "+t._s(t.reply.by)+" "+t._s(t._f("getTimeDiffrence")(t.reply.time))+" ago "),n("br"),n("span",{domProps:{innerHTML:t._s(t.reply.text)}}),t.reply.kids&&t.reply.kids.length>0?n("div",{staticStyle:{overflow:"hidden","white-space":"nowrap"}},[t._v(" [-] "),n("hr",{staticStyle:{display:"inline-block",width:"100%","vertical-align":"middle"}})]):t._e(),t._l(t.replies,(function(e,r){return n("div",{key:r},[e.deleted?t._e():n("div",[0!=r?n("hr",{staticStyle:{"margin-left":"20px"}}):t._e(),n("Replies",{attrs:{reply:e}})],1)])}))],2)}),C=[],F=n("8fd4").url,D={name:"Replies",props:{reply:Object},data:function(){return{replies:[]}},computed:{indent:function(){return{transform:"translate(".concat(20,"px)")}}},methods:{getReplies:function(){var t=this,e=[];if(this.reply.kids){var n=!0,r=!1,s=void 0;try{for(var o,i=this.reply.kids[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var a=o.value;e.push(this.$http.get(F.getItemById+a.toString()+".json"))}}catch(c){r=!0,s=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}}Promise.all(e).then((function(e){e.forEach((function(e){t.replies.push(e.data)}))})).catch((function(t){console.log(t)}))}},created:function(){this.getReplies()}},H=D,B=Object(d["a"])(H,E,C,!1,null,"5d698d1b",null),A=B.exports,U=n("8fd4").url,J={name:"Comments",components:{Replies:A},data:function(){return{post:{},commentsArray:[]}},methods:{getPostInfo:function(t){var e=this;this.$http.get(U.getItemById+t.toString()+".json").then((function(t){var n=[];if(e.post=t.data,e.post.kids){var r=!0,s=!1,o=void 0;try{for(var i,a=e.post.kids[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var c=i.value;n.push(e.$http.get(U.getItemById+c.toString()+".json"))}}catch(u){s=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}}Promise.all(n).then((function(t){t.forEach((function(t){e.commentsArray.push(t.data)}))})).catch((function(t){console.log(t)}))}))}},created:function(){this.$route.params.postId&&this.getPostInfo(this.$route.params.postId)}},q=J,z=Object(d["a"])(q,N,R,!1,null,"523ac528",null),G=z.exports;r["a"].use(S["a"]);var K=new S["a"]({routes:[{path:"/",name:"Hello",component:M},{path:"/comments/:postId",name:"Comments",component:G}]});r["a"].config.productionTip=!1,r["a"].filter("getTimeDiffrence",(function(t){var e=Math.round(Date.now()/1e3)-t,n=86400,r=3600,s=60,o="";return e>=n?(e=Math.round(e/n),o=" day"):e>=r?(e=Math.round(e/r),o=" hour"):e>=s?(e=Math.round(e/s),o=" minute"):o=" second",e>1&&(o+="s"),e.toString()+o})),new r["a"]({store:L,router:K,render:function(t){return t(v)}}).$mount("#app")},"8fd4":function(t,e,n){"use strict";n.r(e),n.d(e,"url",(function(){return r}));var r={getTopStoryListUrl:"https://hacker-news.firebaseio.com/v0/topstories.json",getNewStoryListUrl:"https://hacker-news.firebaseio.com/v0/newstories.json",getItemById:"https://hacker-news.firebaseio.com/v0/item/"}}});
//# sourceMappingURL=app.fe11b890.js.map